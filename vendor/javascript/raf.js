import e from"performance-now";var n="undefined"!==typeof globalThis?globalThis:"undefined"!==typeof self?self:global;var a={};var l=e,t="undefined"===typeof window?n:window,c=["moz","webkit"],o="AnimationFrame",r=t["request"+o],i=t["cancel"+o]||t["cancelRequest"+o];for(var f=0;!r&&f<c.length;f++){r=t[c[f]+"Request"+o];i=t[c[f]+"Cancel"+o]||t[c[f]+"CancelRequest"+o]}if(!r||!i){var u=0,d=0,s=[],h=1e3/60;r=function(e){if(0===s.length){var n=l(),a=Math.max(0,h-(n-u));u=a+n;setTimeout((function(){var e=s.slice(0);s.length=0;for(var n=0;n<e.length;n++)if(!e[n].cancelled)try{e[n].callback(u)}catch(e){setTimeout((function(){throw e}),0)}}),Math.round(a))}s.push({handle:++d,callback:e,cancelled:false});return d};i=function(e){for(var n=0;n<s.length;n++)s[n].handle===e&&(s[n].cancelled=true)}}a=function(e){return r.call(t,e)};a.cancel=function(){i.apply(t,arguments)};a.polyfill=function(e){e||(e=t);e.requestAnimationFrame=r;e.cancelAnimationFrame=i};var m=a;const p=a.cancel,v=a.polyfill;export default m;export{p as cancel,v as polyfill};

